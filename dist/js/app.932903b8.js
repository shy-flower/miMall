(function(t){function e(e){for(var s,n,c=e[0],o=e[1],l=e[2],d=0,p=[];d<c.length;d++)n=c[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&p.push(a[n][0]),a[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,c=1;c<i.length;c++){var o=i[c];0!==a[o]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=i[0]))}return t}var s={},a={app:0},r=[];function n(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=s,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0411":function(t,e,i){},"0699":function(t,e,i){"use strict";i("f121")},"074f":function(t,e,i){},"08b0":function(t,e,i){"use strict";i("91c8")},"0957":function(t,e,i){},"0cb8":function(t,e,i){},"0e07":function(t,e,i){},"15e0":function(t,e,i){},"1a80":function(t,e,i){"use strict";i("e4de")},2445:function(t,e,i){"use strict";i("0e07")},3032:function(t,e,i){},"396f":function(t,e,i){},"4a03":function(t,e,i){},"4aac":function(t,e,i){"use strict";i("7df5")},5155:function(t,e,i){"use strict";i("3032")},"56d7":function(t,e,i){"use strict";i.r(e);i("bc4a"),i("44a9"),i("3a99"),i("2c238"),i("6ae4");var s,a=i("a593"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},n=[],c=(i("6a61"),i("2e91")),o=(i("926e"),i("0cb8"),{name:"app",components:{},props:{},data:function(){return{res:{}}},computed:{},watch:{},created:function(){},mounted:function(){this.$cookie.get("userId")&&(this.getUser(),this.getCartCount())},methods:{getUser:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/user");case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))()},getCartCount:function(){var t=this;this.axios.get("/carts/products/sum").then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.$store.dispatch("saveCartCount",e)}))}}}),l=o,u=i("5d22"),d=Object(u["a"])(l,r,n,!1,null,null,null),p=d.exports,m=i("8aaf"),v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nav-hearder"),i("router-view"),i("nav-footer")],1)},f=[],h=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footer"},[i("div",{staticClass:"footer-log"},[i("img",{attrs:{src:"http://mi.futurefe.com/imgs/logo-footer.png",alt:"小米logo"}}),i("p",[t._v("小米商城")])]),i("div",{staticClass:"footer-link"},[i("a",{attrs:{href:"https://www.baidu.com/"}},[t._v("百度首页 | ")]),i("a",{attrs:{href:"https://coding.imooc.com/class/113.html"}},[t._v("Vue全栈课程 | ")]),i("a",{attrs:{href:"https://coding.imooc.com/class/343.html"}},[t._v("React全家桶课程 | ")]),i("a",{attrs:{href:"https://coding.imooc.com/class/343.html"}},[t._v("微信支付专项课程 | ")]),i("a",{attrs:{href:"https://coding.imooc.com/class/392.html"}},[t._v("配套课程:java通用型支付+电商平台双系统实战")])]),i("div",{staticClass:"Copyright"},[i("span",[t._v("Copyright ©2020 ")]),i("span",[t._v("mi.futurefe.com ")]),i("span",[t._v("All Rights Reserved.")])])])}],g={name:"nav-footer",components:{},props:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},C=g,b=(i("2445"),Object(u["a"])(C,h,_,!1,null,"90b56f2c",null)),y=b.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"nav-topbar"},[i("div",{staticClass:"container"},[t._m(0),i("div",{staticClass:"topbar-user"},[t.username?i("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.username))]):t._e(),t.username?t._e():i("a",{attrs:{href:"javascript:;"},on:{click:t.login}},[t._v("登录")]),t.username?i("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.outLogin()}}},[t._v("退出")]):t._e(),t.username?i("a",{attrs:{href:"javascript:;"}},[t._v("我的订单")]):t._e(),t.username?t._e():i("a",{attrs:{href:"javascript:;"}},[t._v("注册")]),i("a",{staticClass:"my-cart",attrs:{href:"javascript:;"},on:{click:t.goToCart}},[i("span",{staticClass:"icon-cart"}),t._v(" 我的购物车("+t._s(t.cartCount)+")")])])])]),i("div",{staticClass:"nav-header"},[i("div",{staticClass:"container"},[t._m(1),i("div",{staticClass:"header-menu"},[i("div",{staticClass:"item-menu"},[i("span",[t._v("小米手机")]),i("div",{staticClass:"children"},[i("ul",t._l(t.phoneList,(function(e,s){return i("li",{key:s,staticClass:"product"},[i("a",{attrs:{href:"/#/product/"+e.id,target:"_blank"}},[i("div",{staticClass:"pro-img "},[i("img",{attrs:{src:e.mainImage}})]),i("div",{staticClass:"pro-name"},[t._v(t._s(e.name))]),i("div",{staticClass:"pro-price"},[t._v("¥:"+t._s(e.price)+"元")])])])})),0)])]),t._m(2),t._m(3)]),t._m(4)])])])},k=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topbar-menu"},[i("a",{attrs:{href:"javascript:;"}},[t._v("小米商城")]),i("a",{attrs:{href:"javascript:;"}},[t._v("MUI")]),i("a",{attrs:{href:"javascript:;"}},[t._v("云服务")]),i("a",{attrs:{href:"javascript:;"}},[t._v("协议规则")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-logo"},[i("a",{attrs:{href:"/#/index"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-menu"},[i("span",[t._v("RedMi红米")]),i("div",{staticClass:"children"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-menu"},[i("span",[t._v("电视")]),i("div",{staticClass:"children"},[i("ul",[i("li",{staticClass:"product"},[i("a",{attrs:{href:"",target:"_blank"}},[i("div",{staticClass:"pro-img"},[i("img",{attrs:{src:"http://mi.futurefe.com/imgs/nav-img/nav-3-1.jpg"}})]),i("div",{staticClass:"pro-name"},[t._v("小米壁画电视 65英寸")]),i("div",{staticClass:"pro-price"},[t._v("8999元")])])]),i("li",{staticClass:"product"},[i("a",{attrs:{href:"",target:"_blank"}},[i("div",{staticClass:"pro-img"},[i("img",{attrs:{src:"http://mi.futurefe.com/imgs/nav-img/nav-3-2.jpg"}})]),i("div",{staticClass:"pro-name"},[t._v("小米全面电视 E55A")]),i("div",{staticClass:"pro-price"},[t._v("1889")])])]),i("li",{staticClass:"product"},[i("a",{attrs:{href:"",target:"_blank"}},[i("div",{staticClass:"pro-img"},[i("img",{attrs:{src:"http://mi.futurefe.com/imgs/nav-img/nav-3-3.png"}})]),i("div",{staticClass:"pro-name"},[t._v("小米电视4A 32英寸")]),i("div",{staticClass:"pro-price"},[t._v("2999元")])])]),i("li",{staticClass:"product"},[i("a",{attrs:{href:"",target:"_blank"}},[i("div",{staticClass:"pro-img"},[i("img",{attrs:{src:"http://mi.futurefe.com/imgs/nav-img/nav-3-4.jpg"}})]),i("div",{staticClass:"pro-name"},[t._v("小米电视4A 55英寸")]),i("div",{staticClass:"pro-price"},[t._v("3999元")])])]),i("li",{staticClass:"product"},[i("a",{attrs:{href:"",target:"_blank"}},[i("div",{staticClass:"pro-img"},[i("img",{attrs:{src:"http://mi.futurefe.com/imgs/nav-img/nav-3-5.jpg"}})]),i("div",{staticClass:"pro-name"},[t._v("小米电视4A 65英寸")]),i("div",{staticClass:"pro-price"},[t._v("5699元")])])]),i("li",{staticClass:"product"},[i("a",{attrs:{href:"",target:"_blank"}},[i("div",{staticClass:"pro-img"},[i("img",{staticClass:"lastImg",attrs:{src:"http://mi.futurefe.com/imgs/nav-img/nav-3-6.png"}})]),i("div",{staticClass:"pro-name"},[t._v("查看全部")]),i("div",{staticClass:"pro-price"},[t._v("5693元")])])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-search"},[i("div",{staticClass:"wrapper"},[i("input",{attrs:{type:"text",name:"keyword"}}),i("a",{attrs:{href:"javascript:;"}})])])}],x=(i("ade2"),{name:"nav-hearder",components:{},props:{},data:function(){return{phoneList:[]}},computed:{username:function(){return this.$store.state.username},cartCount:function(){return this.$store.state.cartCount}},watch:{},created:function(){this.getProductList();var t=this.$route.params;t&&"login"==t.from&&this.getCartCount()},mounted:function(){},methods:{login:function(){this.$router.push("/login")},getProductList:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/products",{params:{categoryId:"100012",pageSize:6}});case 2:i=e.sent,t.phoneList=i.list.slice(0,6);case 4:case"end":return e.stop()}}),e)})))()},goToCart:function(){this.$router.push("/cart")},outLogin:function(){var t=this;this.axios.post("/user/logout").then((function(){t.$message.success("退出成功!")})),this.$cookie.set("userId","",{expires:"-1"}),this.$store.dispatch("saveCartCount",0),this.$store.dispatch("saveUserName",""),this.$message.success("退出成功")},getCartCount:function(){var t=this;this.axios.get("/carts/products/sum").then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.$store.dispatch("saveCartCount",e)}))}}}),$=x,j=(i("acc5"),Object(u["a"])($,w,k,!1,null,"59ce2952",null)),P=j.exports,I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ServiceBar"},[i("div",{staticClass:"container"},[i("ul",[i("li",[i("span",{staticClass:"icon-setting"}),t._v("预约维修服务")]),i("li",[i("span",{staticClass:"icon-7day"}),t._v("7天无理由退货")]),i("li",[i("span",{staticClass:"icon-15day"}),t._v("15天免费换货")]),i("li",[i("span",{staticClass:"icon-post"}),t._v("满150元包邮")])])])])}],D={name:"Service-Bar",components:{},props:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},L=D,O=(i("1a80"),Object(u["a"])(L,I,S,!1,null,"14ed465e",null)),A=O.exports,N={name:"home",components:{NavFooter:y,NavHearder:P,ServiceBar:A},props:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},E=N,T=Object(u["a"])(E,v,f,!1,null,"07457114",null),V=T.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index1"},[i("div",{staticClass:"index"},[i("div",{staticClass:"container"},[i("div",{staticClass:"carousel-box"},[i("div",{staticClass:"nav-menu"},[i("ul",{staticClass:"menu-wrap"},[i("li",{staticClass:"menu-item"},[i("a",{staticClass:"menuA",attrs:{href:"javascript:;"}},[t._v("手机 电话卡")]),i("div",{staticClass:"children"},t._l(t.menuList,(function(e,s){return i("ul",{key:s},t._l(e,(function(e,s){return i("li",{key:s},[i("a",{attrs:{href:e?"/#/product/"+e.id:""}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.img||"http://mi.futurefe.com/imgs/item-box-1.png",expression:"\n                          sub.img ||\n                            'http://mi.futurefe.com/imgs/item-box-1.png'\n                        "}]}),t._v(" "+t._s(e?e.name:"小米cc9")+" ")])])})),0)})),0)]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6)])]),i("el-carousel",{attrs:{trigger:"click",height:"451px"}},t._l(t.carouselList,(function(t,e){return i("el-carousel-item",{key:e},[i("a",{attrs:{href:"/#/product/"+t.id}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img,expression:"item.img"}]})])])})),1)],1)]),i("div",{staticClass:"ads-box"},t._l(t.adsList,(function(t,e){return i("a",{key:e,attrs:{href:"/#/product/"+t.id}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img,expression:"item.img"}]})])})),0),i("div",{staticClass:"banner"},[i("a",{attrs:{href:"#/product/30"}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"http://mi.futurefe.com/imgs/banner-1.png",expression:"'http://mi.futurefe.com/imgs/banner-1.png'"}]})])])]),i("div",{staticClass:"phone"},[i("div",{staticClass:"product-box"},[i("h2",[t._v("手机")]),i("div",{staticClass:"wrapper"},[t._m(7),i("div",{staticClass:"list-box"},t._l(t.phoneList,(function(e,s){return i("div",{key:s,staticClass:"list"},t._l(e,(function(e,s){return i("div",{key:s,staticClass:"item"},[i("span",{class:{"new-pro":s%2==0}},[t._v("新品")]),i("div",{staticClass:"item-img"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.mainImage,expression:"item2.mainImage"}],attrs:{alt:""}})]),i("div",{staticClass:"item-inifo"},[i("h3",[t._v(t._s(e.name))]),i("p",[t._v(t._s(e.subtitle))]),i("p",{staticClass:"price",on:{click:function(i){return t.addCart(e.id)}}},[t._v(" "+t._s(e.price)+"元 ")])])])})),0)})),0)])])]),i("ServiceBar"),i("div",{staticClass:"dialogCart"},[i("el-dialog",{attrs:{title:"提示",visible:t.Shopping_CartDialog,width:"50%"},on:{"update:visible":function(e){t.Shopping_CartDialog=e}}},[i("p",[t._v("商品添加成功!")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Shopping_CartDialog=!1}}},[i("a",{attrs:{href:"javascript:;"},on:{click:t.toCart}},[t._v("查看购物车")])])],1)])])],1)],1)},R=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"menu-item"},[i("a",{staticClass:"menuA",attrs:{href:"javascript:;"}},[t._v("电视 盒子")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"menu-item"},[i("a",{staticClass:"menuA",attrs:{href:"javascript:;"}},[t._v("笔记本 平板")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"menu-item"},[i("a",{staticClass:"menuA",attrs:{href:"javascript:;"}},[t._v("家电 插线板")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"menu-item"},[i("a",{staticClass:"menuA",attrs:{href:"javascript:;"}},[t._v("出行 穿戴")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"menu-item"},[i("a",{staticClass:"menuA",attrs:{href:"javascript:;"}},[t._v("智能 路由器")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"menu-item"},[i("a",{staticClass:"menuA",attrs:{href:"javascript:;"}},[t._v("电源 配件")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"menu-item"},[i("a",{staticClass:"menuA",attrs:{href:"javascript:;"}},[t._v("生活 箱包")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"banner-left"},[i("a",{attrs:{href:"/#/product/35"}},[i("img",{attrs:{src:"http://mi.futurefe.com/imgs/mix-alpha.jpg"}})])])}],B=(i("c12e"),i("b66b"),{name:"index",data:function(){return{carouselList:[{id:"42",img:"http://mi.futurefe.com/imgs/slider/slide-1.jpg"},{id:"45",img:"http://mi.futurefe.com/imgs/slider/slide-2.jpg"},{id:"46",img:"http://mi.futurefe.com/imgs/slider/slide-3.jpg"},{id:"42",img:"http://mi.futurefe.com/imgs/slider/slide-4.jpg"},{id:"42",img:"http://mi.futurefe.com/imgs/slider/slide-1.jpg"}],menuList:[[{id:30,img:"http://mi.futurefe.com/imgs/item-box-1.png",name:"小米cc9"},{id:31,img:"http://mi.futurefe.com/imgs/item-box-2.png",name:"小米8青春版"},{id:32,img:"http://mi.futurefe.com/imgs/item-box-3.jpg",name:"RdemiK20"},{id:33,img:"http://mi.futurefe.com/imgs/item-box-4.jpg",name:"移动数据专区"}],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],adsList:[{id:33,img:"http://mi.futurefe.com/imgs/ads/ads-1.png"},{id:48,img:"http://mi.futurefe.com/imgs/ads/ads-2.jpg"},{id:45,img:"http://mi.futurefe.com/imgs/ads/ads-3.png"},{id:47,img:"http://mi.futurefe.com/imgs/ads/ads-4.jpg"}],phoneList:[],Shopping_CartDialog:!1}},computed:{},watch:{},created:function(){},components:{ServiceBar:A},mounted:function(){this.init()},methods:{init:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/products",{params:{categoryId:100012,pageSize:8}});case 2:i=e.sent,t.phoneList=[i.list.slice(0,4),i.list.slice(4,8)];case 4:case"end":return e.stop()}}),e)})))()},addCart:function(t){var e=this;this.axios.post("/carts",{productId:t,selected:!0}).then((function(i){e.$store.dispatch("saveCartCount",i.cartTotalQuantity),10!=i.fail&&(e.Shopping_CartDialog=!0,e.$router.push("/#/cart",{params:{categoryId:t}}))}))},toCart:function(){this.$router.replace("/cart")}}}),z=B,q=(i("d0fa"),Object(u["a"])(z,M,R,!1,null,"5720afe7",null)),F=q.exports,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Product-Param"),i("div",{staticClass:"product"},[i("div",{staticClass:"proMessage"},[i("h2",[t._v(" "+t._s(this.$store.state.product.name)+" ")]),i("h3",[t._v(t._s(this.$store.state.product.subtitle))]),i("a",{attrs:{href:"javascript:;"}},[t._v("全球首款双频 GP")]),i("span",[t._v("|")]),i("a",{attrs:{href:"javascript:;"}},[t._v("骁龙845")]),i("span",[t._v("|")]),i("a",{attrs:{href:"javascript:;"}},[t._v("AI变焦双摄")]),i("span",[t._v("|")]),i("a",{attrs:{href:"javascript:;"}},[t._v("红外人脸识别")]),i("h1",[t._v("¥"+t._s(this.$store.state.product.price)+"元")])])]),i("div",{staticClass:"content"},[i("div",{staticClass:"pro-item"}),i("div",{staticClass:"pro-item2"}),i("div",{staticClass:"pro-item3"},[i("swiper",{attrs:{width:"455px",options:t.swiperOptions}},[t._l(t.swiperList,(function(t,e){return i("swiper-slide",{key:e},[i("img",{attrs:{src:t.img}})])})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)]),i("div",{staticClass:"item-video"},[t._m(0),t._m(1),i("div",{staticClass:"video-bg",on:{click:t.ClickVideo}},[i("img",{attrs:{src:"http://mi.futurefe.com/imgs/product/gallery-1.png"}})]),t._m(2)]),i("el-dialog",{staticClass:"videoDialog",attrs:{visible:t.videoDialogVisible,width:"1000px"},on:{"update:visible":function(e){t.videoDialogVisible=e}}},[i("video",{attrs:{src:"http://mi.futurefe.com/imgs/product/video.mp4",autoplay:"",controls:"controls"}})])],1)},G=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",[t._v(" 60帧超慢动作摄影"),i("br"),t._v(" 慢慢回味每一瞬间的精彩 ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t._v("后置960帧电影般超慢动作视频，将眨眼间的美妙展现得淋漓尽致！"),i("br"),t._v("更能AI 精准分析视频内容，15个场景智能匹配背景音效。 ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-box"},[i("div",{staticClass:"overlay"}),i("div",{staticClass:"overlay"}),i("div",{staticClass:"video"})])}],Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"proParam"},[i("div",{staticClass:"nav-bar ",class:{is_fixed:t.isFixed}},[i("div",{staticClass:"content"},[i("div",{staticClass:"pro-title"},[i("h1",[t._v(t._s(this.$store.state.product.name))])]),i("div",{staticClass:"pro-param"},[i("a",{attrs:{hreF:"JavaScript:;"}},[t._v("概述")]),i("span",[t._v("|")]),i("a",{attrs:{href:"JavaScript:;"}},[t._v("参数")]),i("span",[t._v("|")]),i("a",{attrs:{href:"JavaScript:;"}},[t._v("用户评价")]),i("el-button",{staticClass:"themeBtn",on:{click:function(e){return t.goDetail()}}},[t._v("立即购买")])],1)])])])},H=[],J=i("28f8"),X=(s={name:"ProductParam",props:{},components:{}},Object(J["a"])(s,"props",{}),Object(J["a"])(s,"data",(function(){return{isFixed:!1}})),Object(J["a"])(s,"computed",{}),Object(J["a"])(s,"watch",{}),Object(J["a"])(s,"created",(function(){})),Object(J["a"])(s,"mounted",(function(){window.addEventListener("scroll",this.initHeight)})),Object(J["a"])(s,"methods",{initHeight:function(){var t=window.pageYOffset||document.documentElement.scrollTop;this.isFixed=t>152},goDetail:function(){var t=this.$route.params.id;this.$router.push("/detail/".concat(t))}}),s),Q=X,W=(i("89f3"),Object(u["a"])(Q,Z,H,!1,null,"d29be518",null)),K=W.exports,Y=i("40ca"),tt=i.n(Y),et={name:"product",components:{ProductParam:K,swiper:Y["swiper"],swiperSlide:Y["swiperSlide"]},props:{},data:function(){return{showSlide:"",swiperOptions:{loop:!0,autoplay:5e3,effect:!0,Slide:!0,slidesPerView:3,spaceBetween:30,freeMod:!0,pagination:{el:".swiper-pagination",clickble:!0}},swiperList:[{id:1,img:"http://mi.futurefe.com/imgs/product/gallery-1.png"},{id:2,img:"http://mi.futurefe.com/imgs/product/gallery-2.png"},{id:3,img:"http://mi.futurefe.com/imgs/product/gallery-3.png"},{id:4,img:"http://mi.futurefe.com/imgs/product/gallery-4.png"},{id:5,img:"http://mi.futurefe.com/imgs/product/gallery-5.jpg"}],videoDialogVisible:!1}},computed:{},watch:{},reated:function(){},mounted:function(){},created:function(){this.getProductInfo()},methods:{getProductInfo:function(){var t=this,e=this.$route.params.id;this.axios.get("/products/".concat(e)).then((function(e){console.log(e),t.$store.dispatch("getProductList",e)}))},ClickVideo:function(){this.videoDialogVisible=!0}}},it=et,st=(i("4aac"),Object(u["a"])(it,U,G,!1,null,null,null)),at=st.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail"},[t._m(0),i("div",{staticClass:"detailPage"},[i("div",{staticClass:"detailLeft"},[i("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},[t._l(t.imgList,(function(t,e){return i("swiper-slide",{key:e},[i("img",{attrs:{src:t.url}})])})),i("div",{staticClass:"swiper-pagination"}),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),i("div",{staticClass:"detailRight"},[i("div",{staticClass:"title"},[i("h1",[t._v(t._s(t.detaList.name))]),i("span",[t._v("相机全新升级 / 960帧超慢动作 / 手持超级夜景 / 全球首款双频GPS / 骁龙845处理器 / 红 外人脸解锁 / AI变焦双摄 / 三星 AMOLED 屏")]),i("p",{staticClass:"business"},[t._v(" 商家自营 ")]),i("div",{staticClass:"priceItem"},[i("span",{staticClass:"price"},[t._v(t._s(t.detaList.price)+"元")]),i("span",{staticClass:"originalPrice"},[t._v("1999元")])])]),t._m(1),i("div",{staticClass:"edition"},[i("div",{staticClass:"title"},[i("h2",[t._v(" 选择版本 ")]),i("ul",[i("li",{class:{isEditionAfter:1===t.edition},on:{click:function(e){return t.handel(1)}}},[t._v(" 6GB+64GB 全网通 ")]),i("li",{class:{isEditionAfter:2===t.edition},on:{click:function(e){return t.handel(2)}}},[t._v(" 4GB+64GB 移动4G ")])])]),i("div",{staticClass:"color"},[i("h2",[t._v(" 选择颜色 ")]),i("ul",[i("li",{class:{isColorAfter:3===t.color},on:{click:function(e){return t.checked(3)}}},[i("div",{staticClass:"div1"}),t._v(" 深灰色 ")]),i("li",{class:{isColorAfter:4===t.color},on:{click:function(e){return t.checked(4)}}},[i("div",{staticClass:"div2"}),t._v(" 粉红色 ")])])]),i("div",{staticClass:"productDetails"},[i("div",{staticClass:"product-item"},[i("div",[t._v("小米CC9 6GB+64GB 全网通 深灰色")]),i("div",[t._v(t._s(t.detaList.price)+" 元")])]),i("div",{staticClass:"total"},[t._v("总计: "+t._s(t.detaList.price)+"元")])]),i("el-button",{staticClass:"but",on:{click:t.toCart}},[t._v("加入购物车")])],1)])]),t._m(2),i("ServiceBar")],1)},nt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"deta-top"},[i("div",{staticClass:"deta-item"},[i("div",{staticClass:"data-right"},[i("span",[t._v("小米cc9")])]),i("div",{staticClass:"data-left"},[i("a",{attrs:{href:"javascript:;"}},[t._v("概述")]),i("span",[t._v("|")]),i("a",{attrs:{href:"javascript:;"}},[t._v("参数")]),i("span",[t._v("|")]),i("a",{attrs:{href:"javascript:;"}},[t._v("用户评价")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"location"},[i("i",{staticClass:"icon-loc"}),i("div",{staticClass:"contenr"},[i("div",{staticClass:"addr"},[t._v(" 北京 北京市 朝阳区 安定门街道 ")]),i("div",{staticClass:"isStock"},[t._v(" 有现货 ")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"PriceDescription"},[i("div",{staticClass:"PriceDescription-item"},[i("div",[i("h1",[t._v("价格说明")])]),i("div",[i("img",{attrs:{src:"http://mi.futurefe.com/imgs/detail/item-price.jpeg"}})])])])}],ct={name:"detail",components:{swiper:Y["swiper"],swiperSlide:Y["swiperSlide"],ServiceBar:A},props:{},data:function(){return{id:this.$route.params.id,color:0,swiperOptions:{autoplay:3e3,loop:!0,pagination:{el:".swiper-pagination",clickble:!0}},imgList:[{id:1,url:"http://mi.futurefe.com/imgs/detail/phone-1.jpg"},{id:2,url:"http://mi.futurefe.com/imgs/detail/phone-2.jpg"},{id:3,url:"http://mi.futurefe.com/imgs/detail/phone-3.jpg"},{id:4,url:"http://mi.futurefe.com/imgs/detail/phone-4.jpg"}],detaList:{},edition:0}},computed:{},watch:{},created:function(){this.getDetailDate()},mounted:function(){},methods:{getDetailDate:function(){var t=this,e=this.$route.params.id;this.axios.get("/products/".concat(e)).then((function(e){t.detaList=e,console.log(t.detaList)}))},handel:function(t){this.n=t,this.edition=t},checked:function(t){this.color=t},toCart:function(){var t=this,e=this.$store.state.username;if(console.log(e.length),0==e.length)return this.$router.replace("/login"),void this.$message.info("请先登录账户");this.axios.post("/carts",{productId:this.id,selected:!0}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartProductVoList:0};console.log(e),t.$store.dispatch("saveCartCount",e.cartTotalQuantity),t.$router.push("/cart")}))}}},ot=ct,lt=(i("0699"),Object(u["a"])(ot,rt,nt,!1,null,"fce2f4be",null)),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cart"},[i("div",{staticClass:"cart_background"},[i("div",{staticClass:"content"},[i("div",{staticClass:"cart_title"},[t._m(0),i("div",{staticClass:"cart_right"},[i("span",[t._v(t._s(t.username))])])])])]),i("div",{staticClass:"cartBody"},[i("div",{staticClass:"content"},[i("el-card",{staticClass:"cart-card"},[i("el-table",{ref:"cartTable",staticStyle:{width:"120%"},attrs:{data:t.list},on:{"select-all":function(e){return t.allSelect()},select:t.change}},[i("el-table-column",{attrs:{type:"selection",width:"57%"}}),i("el-table-column",{attrs:{width:"67%",label:"全选"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.productId)+" ")]}}])}),i("el-table-column",{attrs:{width:"100%"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.row.productMainImage,expression:"scope.row.productMainImage"}]})]}}])}),i("el-table-column",{attrs:{prop:"productName",label:"商品名称"}}),i("el-table-column",{attrs:{prop:"productPrice",label:"单价"}}),i("el-table-column",{attrs:{prop:"quantity",label:"数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input-number",{attrs:{min:t.min,max:t.max,label:"描述文字"},on:{change:function(i){return t.cartNumChange(e.row)}},model:{value:e.row.quantity,callback:function(i){t.$set(e.row,"quantity",i)},expression:"scope.row.quantity"}})]}}])}),i("el-table-column",{attrs:{prop:"productTotalPrice",label:"小计"}}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("i",{staticClass:"el-icon-close",on:{click:function(i){return t.deleteItem(e.row)}}})]}}])})],1)],1)],1),i("div",{staticClass:"cart_footer"},[i("div",{staticClass:"footer_left"},[i("a",{attrs:{href:"javascript:;"},on:{click:t.goIndex}},[t._v(" 继续购物 ")]),i("span",[t._v(" 共"),i("span",{staticClass:"colorA"},[t._v(t._s(t.list.length))]),t._v("件商品，已选择"),i("span",{staticClass:"colorA"},[t._v(t._s(t.allchekedNum))]),t._v("件 ")])]),i("div",{staticClass:"footer_right"},[i("span",{staticClass:"colorA"},[t._v("合计:")]),i("h2",{staticClass:"colorA"},[t._v(t._s(t.cartTotalPrice))]),i("el-button",{staticClass:"btn",on:{click:function(e){return t.order()}}},[t._v("去结算")])],1)])]),i("ServiceBar"),i("NavFooter")],1)},pt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cart_left"},[i("div",{staticClass:"header-logo"},[i("a",{attrs:{href:"/#/index"}})]),i("div",[i("h1",[t._v("我的购物车")]),i("span",[t._v("温馨提示：产品是否购买成功，以最终下单为准哦，请尽快结算")])])])}],mt=(i("f390"),i("8601"),i("85a2"),i("d211")),vt=i("7736"),ft={name:"cart",components:{NavFooter:y,ServiceBar:A},props:{},data:function(){return{list:[],productId:0,cartTotalPrice:0,selectedAll:!0,cartTotalQuantity:0,allchekedNum:0,clickId:0,hasSelectList:[],min:1,max:1e7}},computed:Object(mt["a"])({},Object(vt["b"])(["username"])),watch:{},created:function(){this.getCartList()},mounted:function(){},methods:{getCartList:function(){var t=this;this.axios.get("/carts").then((function(e){t.list=e.cartProductVoList,t.selectedAll=e.selectedAll,t.cartTotalPrice=e.cartTotalPrice})).then((function(){t.list.forEach((function(e){1==e.productSelected&&t.$refs.cartTable.toggleRowSelection(e,!0)}))}))},deleteItem:function(t){var e=this;this.row,console.log(t),this.axios.delete("/carts/".concat(t.productId)).then((function(){e.$message.success("删除成功"),e.getCartList()}))},cartNumChange:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!(t.quantity<=0)){i.next=5;break}return e.$message.error("至少选择一件商品!"),i.abrupt("return");case 5:t.quantity>=1e7&&e.$message.error("库存不足");case 6:return i.next=8,e.axios.put("/carts/".concat(t.productId),{quantity:t.quantity,selected:t.selected});case 8:s=i.sent,e.cartTotalPrice=s.cartTotalPrice,e.getCartList();case 11:case"end":return i.stop()}}),i)})))()},goIndex:function(){this.$router.replace("/index")},allSelect:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.selectedAll=!t.selectedAll,!0!==t.selectedAll){e.next=7;break}return e.next=4,t.axios.put("/carts/selectAll");case 4:return i=e.sent,t.cartTotalPrice=i.cartTotalPrice,e.abrupt("return");case 7:return e.next=9,t.axios.put("/carts/unSelectAll");case 9:s=e.sent,t.cartTotalPrice=s.cartTotalPrice;case 11:case"end":return e.stop()}}),e)})))()},change:function(t,e){var i=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,i.axios.put("/carts/".concat(e.productId),{quantity:e.quantity,selected:!e.productSelected});case 3:s=t.sent,e.productSelected=!e.productSelected,i.cartTotalPrice=s.cartTotalPrice,i.allchekedNum=i.$refs.cartTable.selection.length;case 7:case"end":return t.stop()}}),t)})))()},order:function(){var t=this.list.every((function(t){t.productSelected}));t&&this.$message.error("至少选择一件商品"),this.$router.push("/order/confirm")}}},ht=ft,_t=(i("bb6e"),Object(u["a"])(ht,dt,pt,!1,null,"01c008da",null)),gt=_t.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Order"},[i("router-view"),i("ServiceBar"),i("nav-footer")],1)},bt=[],yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index"},[i("div",{staticClass:"order_title"},[i("div",{staticClass:"content"},[i("div",{staticClass:"order-header"},[i("div",{staticClass:"one"},[t._m(0),i("span",[t._v(t._s(t.title))]),t._t("tip")],2),i("div",{staticClass:"tow"},[t._v(t._s(this.$store.state.username))])])])])])},wt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-logo"},[i("a",{attrs:{href:"/#/index"}})])}],kt={name:"order-header",components:{},props:{title:String},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},xt=kt,$t=(i("803c"),Object(u["a"])(xt,yt,wt,!1,null,"4629d2fe",null)),jt=$t.exports,Pt={name:"order",components:{NavFooter:y,OrderHeader:jt,ServiceBar:A},props:{},data:function(){return{title:"",tip:""}},computed:{},watch:{},created:function(){},mounted:function(){var t=this.$route.path;"/order/confirm"==t?(this.title="订单确认",this.tip="请认真填写收货地址"):(this.title="订单支付",this.tip="请谨防钓鱼链接或诈骗电话，了解更多")},methods:{}},It=Pt,St=Object(u["a"])(It,Ct,bt,!1,null,"311aa1ed",null),Dt=St.exports,Lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"confirm"},[i("div",{staticClass:"content"},[i("el-card",[i("div",{staticClass:"receivingAddress"},[i("h2",{staticClass:"addrs"},[t._v("收货地址")]),i("div",{staticClass:"addrBox"},[i("ul",[t._l(t.list,(function(e,s){return i("li",{key:s,class:{liStyle:e.id==t.isClass},on:{click:function(i){return t.clickAddresStyle(e.id)}}},[i("h2",{attrs:{prop:"receiverName"}},[t._v(t._s(e.receiverName))]),i("p",[t._v(t._s(e.receiverMobile))]),i("span",[t._v(t._s(e.receiverProvince+" "+e.receiverCity+" "+e.receiverDistrict+" "+e.receiverAddress))]),i("div",{staticClass:"address_footer"},[i("a",{staticClass:"delete",attrs:{href:"javascript:;"},on:{click:function(i){return t.deleteDialog(e)}}},[i("i",{staticClass:"el-icon-delete"})]),i("a",{attrs:{href:"javascript:;"},on:{click:function(i){return t.editAddress(e)}}},[i("i",{staticClass:"el-icon-edit"})])])])})),i("li",[i("div",{on:{click:function(e){return t.addNewAddre()}}},[i("div",{staticClass:"icon"}),i("span",{staticClass:"newAddrs"},[t._v("添加新地址")])])])],2)])]),i("div",{staticClass:"Product_information"},[i("h2",[t._v("商品")]),i("ul",{staticClass:"product_list"},t._l(t.cartList,(function(e,s){return i("li",{key:s},[i("div",{staticClass:"imgs"},[i("img",{attrs:{src:e.productMainImage}}),i("span",[t._v(t._s(e.productName+" "+e.productSubtitle)+" ")])]),i("div",{staticClass:"prodcuct_price"},[i("span",[t._v(t._s(e.productPrice+"元x"+e.quantity))])]),i("div",{staticClass:"total_Price"},[i("span",[t._v(" "+t._s(e.productTotalPrice+"元"))])])])})),0)]),i("div",{staticClass:"delivery_mode"},[i("div",{staticClass:"delivery_item"},[i("h2",[t._v("配送方式")]),i("span",[t._v("包邮")])]),i("div",{staticClass:"delivery_item"},[i("h2",[t._v("发票")]),i("span",[t._v("电子发票")]),i("span",[t._v("个人")])])]),i("div",{staticClass:"product_details"},[i("div",{staticClass:"details_item"},[i("span",{staticClass:"item_name"},[t._v("商品件数：")]),i("span",{staticClass:"item-val"},[t._v(t._s(t.count)+"件 ")])]),i("div",{staticClass:"details_item"},[i("span",{staticClass:"item_name"},[t._v("商品总价：")]),i("span",{staticClass:"item-val"},[t._v(t._s(t.cartTotalPrice)+"元 ")])]),i("div",{staticClass:"details_item"},[i("span",{staticClass:"item_name"},[t._v("优惠活动：")]),i("span",{staticClass:"item-val"},[t._v("0元 ")])]),i("div",{staticClass:"details_item"},[i("span",{staticClass:"item_name"},[t._v("运费：")]),i("span",{staticClass:"item-val"},[t._v("0元 ")])]),i("div",{staticClass:"details_item"},[i("span",{staticClass:"item_total"},[t._v("应付总额：")]),i("span",{staticClass:"item-price"},[t._v(t._s(t.cartTotalPrice)+"元 ")])])]),i("div",{staticClass:"product_footer"},[i("el-button",{staticClass:"goBackCart"},[t._v("返回购物车")]),i("el-button",{staticClass:"goSettlement",on:{click:t.OrderSubmit}},[t._v("去结算")])],1)])],1),i("el-dialog",{attrs:{title:"删除确认",visible:t.DeletDialogVisible,width:"30%"},on:{"update:visible":function(e){t.DeletDialogVisible=e}}},[i("span",{staticClass:"delet"},[t._v("您确认要删除此地址吗？")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.submitAddress()}}},[t._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"新增确认",visible:t.modifyDialogVisible,width:"30%"},on:{"update:visible":function(e){t.modifyDialogVisible=e}}},[i("div",{staticClass:"titleInput"},[i("el-input",{attrs:{placeholder:"姓名"},model:{value:t.checkedItem.receiverName,callback:function(e){t.$set(t.checkedItem,"receiverName",e)},expression:"checkedItem.receiverName"}}),i("el-input",{attrs:{placeholder:"电话"},model:{value:t.checkedItem.receiverMobile,callback:function(e){t.$set(t.checkedItem,"receiverMobile",e)},expression:"checkedItem.receiverMobile"}})],1),i("div",{staticClass:"select"},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.checkedItem.receiverProvince,callback:function(e){t.$set(t.checkedItem,"receiverProvince",e)},expression:"checkedItem.receiverProvince"}},t._l(t.provinceSelet,(function(t){return i("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})})),1),i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.checkedItem.receiverCity,callback:function(e){t.$set(t.checkedItem,"receiverCity",e)},expression:"checkedItem.receiverCity"}},t._l(t.cityValSelet,(function(t){return i("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})})),1),i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.checkedItem.receiverDistrict,callback:function(e){t.$set(t.checkedItem,"receiverDistrict",e)},expression:"checkedItem.receiverDistrict"}},t._l(t.areaValSelet,(function(t){return i("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})})),1)],1),i("div",{staticClass:"detailedAddress"},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:4},placeholder:"请输入详细地址"},model:{value:t.checkedItem.receiverAddress,callback:function(e){t.$set(t.checkedItem,"receiverAddress",e)},expression:"checkedItem.receiverAddress"}})],1),i("div",{staticClass:"Postcode"},[i("el-input",{attrs:{placeholder:"邮编"},model:{value:t.checkedItem.receiverZip,callback:function(e){t.$set(t.checkedItem,"receiverZip",e)},expression:"checkedItem.receiverZip"}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.submitAddress()}}},[t._v("确 定")])],1)])],1)},Ot=[],At=(i("bf00"),i("a8aa"),{name:"confirm",components:{OrderHeader:P},props:{},data:function(){return{list:[],cartList:[],cartTotalPrice:0,count:0,DeletDialogVisible:!1,modifyDialogVisible:!1,checkedItem:{},userAction:"",provinceSelet:[{id:1,label:"浙江省"},{id:2,label:"湖南省"},{id:3,label:"广东省"}],cityValSelet:[{id:1,label:"株洲市"},{id:2,label:"广州市"},{id:3,label:"杭州市"}],areaValSelet:[{id:1,label:"西湖区"},{id:2,label:"禅城区"},{id:3,label:"顺德区"}],isClass:0}},computed:{},watch:{},created:function(){},mounted:function(){this.getAddressList(),this.getCartList()},methods:{getAddressList:function(){var t=this;this.axios.get("/shippings").then((function(e){t.list=e.list}))},getCartList:function(){var t=this;this.axios.get("/carts").then((function(e){var i=e.cartProductVoList;t.cartTotalPrice=e.cartTotalPrice,t.cartList=i.filter((function(t){return t.productSelected})),t.cartList.map((function(e){t.count+=e.quantity}))}))},deleteDialog:function(t){this.checkedItem=t,this.userAction=2,this.DeletDialogVisible=!0},editAddress:function(t){this.checkedItem=t,this.userAction=1,this.modifyDialogVisible=!0},addNewAddre:function(){this.userAction=0,this.modifyDialogVisible=!0},submitAddress:function(){var t,e,i=this,s=this.checkedItem,a=this.userAction,r={};0==a?(t="post",e="/shippings",r={receiverAddress:s.receiverAddress,receiverCity:s.receiverCity,receiverDistrict:s.receiverDistrict,receiverMobile:s.receiverMobile,receiverName:s.receiverName,receiverProvince:s.receiverProvince,receiverZip:s.receiverZip}):1==a?(t="put",e="/shippings/".concat(s.id),r={receiverAddress:s.receiverAddress,receiverCity:s.receiverCity,receiverDistrict:s.receiverDistrict,receiverMobile:s.receiverMobile,receiverName:s.receiverName,receiverProvince:s.receiverProvince,receiverZip:s.receiverZip}):(t="delete",e="/shippings/".concat(s.id)),s.receiverName?s.receiverCity?s.receiverDistrict?s.receiverMobile?s.receiverCity?s.receiverProvince?s.receiverZip?s.receiverAddress?this.axios[t](e,r).then((function(){i.closeModal()})):this.$message.error("请输入详细地址"):this.$message.error("请输入六位邮编"):this.$message.error("请选择省"):this.$message.error("用户名称不能为空"):this.$message.error("手机号码不能为空"):this.$message.error("请选择区"):this.$message.error("请选择市"):this.$message.error("用户名称不能为空")},closeModal:function(){this.checkedItem={},this.userAction="",this.DeletDialogVisible=!1,this.modifyDialogVisible=!1,this.getAddressList(),this.$message.success("操作成功")},clickAddresStyle:function(t){this.isClass=t},OrderSubmit:function(){var t=this;0!=this.isClass?this.axios.post("/orders",{shippingId:this.isClass}).then((function(e){t.$router.push({path:"/order/pay",query:{orderNo:e.orderNo}})})):this.$message.error("请选择地址")}}}),Nt=At,Et=(i("f5cd"),Object(u["a"])(Nt,Lt,Ot,!1,null,"45f0aa59",null)),Tt=Et.exports,Vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderList"},[i("order-header",{attrs:{title:"订单列表"},scopedSlots:t._u([{key:"tip",fn:function(){return[i("span",{staticClass:"tipClass"},[t._v("请谨防钓鱼链接或诈骗电话，了解更多>")])]},proxy:!0}])}),i("div",{staticClass:"content"},[t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"order_item"},[i("div",{staticClass:"item_tilte"},[i("div",{staticClass:"title_left"},[i("span",[t._v(t._s(e.createTime))]),i("span",[t._v("|")]),i("span",[t._v(" "+t._s(e.receiverName))]),i("span",[t._v(" 订单号："+t._s(e.orderNo))]),i("span",[t._v("|")]),i("span",[t._v(" 在线支付")])]),i("div",{staticClass:"title_right"},[i("span",[t._v("应付金额: "),i("h1",[t._v(t._s(e.payment))]),t._v(" 元")])])]),t._l(e.orderItemVoList,(function(s,a){return i("div",{key:a,staticClass:"item_product"},[i("div",{staticClass:"prodcut_left"},[i("img",{attrs:{src:s.productImage}}),i("div",{staticClass:"prodcut_Name"},[i("p",[t._v(t._s(s.productName))]),i("p",[t._v(t._s(s.totalPrice)+"元 X"+t._s(s.quantity))])])]),20==e.status?i("div",{staticClass:"prodcut_right"},[i("span",[t._v(t._s(e.statusDesc))])]):i("div",{staticClass:"prodcut_right"},[i("span",{on:{click:function(i){return t.goPay(e.orderNo)}}},[t._v(t._s(e.statusDesc))])])])}))],2)})),i("el-pagination",{attrs:{background:"","current-page":t.currentPage4,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}}),t._e(),t._e()],2),0==t.list.length?i("no-Data"):t._e()],1)},Mt=[],Rt=(i("af60"),i("75ba")),Bt=i.n(Rt),zt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},qt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"no-data"},[s("img",{attrs:{src:i("bea3")}}),s("p",[t._v("当前暂无提交的订单记录")])])}],Ft={name:"no-data",components:{},props:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},Ut=Ft,Gt=(i("a847"),Object(u["a"])(Ut,zt,qt,!1,null,"5088a9a7",null)),Zt=Gt.exports,Ht={name:"orderList",components:{OrderHeader:jt,NoData:Zt},directives:{infiniteScroll:Bt.a},props:{},data:function(){return{list:[],total:0,pageSize:10,currentPage4:1,pageNum:1,loading:!1,busy:!1}},computed:{},watch:{},created:function(){},mounted:function(){this.getOrderList()},methods:{handleCurrentChange:function(t){this.pageNum=t,this.getOrderList()},getOrderList:function(){var t=this;this.busy=!0,this.axios.get("/orders",{params:{pageSize:2,pageNum:this.pageNum}}).then((function(e){t.busy=!1,t.loading=!1,t.total=e.total,t.list=e.list.concat(e.list)})).catch((function(){t.loading=!1}))},goPay:function(t){this.$router.push({path:"/order/pay",query:{orderNo:t}})},Load_more:function(){this.loading=!0,this.pageNum++,this.getOrderList()},scrollMore:function(){var t=this;this.busy=!0,setTimeout((function(){t.pageNum++,t.getList()}),5e3)},getList:function(){var t=this;this.axios.get("/orders",{params:{pageSize:10,pageNum:this.pageNum}}).then((function(e){t.list=e.list.concat(e.list),t.busy=!1,e.hasNextPage?t.busy=!1:t.busy=!0}))}}},Jt=Ht,Xt=(i("5155"),Object(u["a"])(Jt,Vt,Mt,!1,null,"56395d4c",null)),Qt=Xt.exports,Wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderPay"},[i("div",{staticClass:"content"},[i("div",{staticClass:"order"},[i("div",{staticClass:"order_pay"},[i("div",{staticClass:"item_order"},[i("div",{staticClass:"item_icon"}),i("div",{staticClass:"item_Tips"},[i("h1",[t._v("订单提交成功! 去付款咯～")]),t._m(0),i("p",[t._v("收货信息："+t._s(t.addressInfo))])])]),i("div",{staticClass:"payment_Details"},[i("p",[t._v("应付总额：")]),i("p",[i("span",[t._v(t._s(t.payment))]),t._v("元 ")]),i("p",[t._v(" 订单详情 "),i("span",{class:t.iconStyle,on:{click:function(e){return t.iconClick(t.iconStyle)}}})])])]),i("div",{class:t.Isproduct_name},[i("ul",[i("li",[i("p",[t._v("订单号：")]),i("p",[t._v(t._s(t.orderId))])]),i("li",[i("p",[t._v("收货信息：")]),i("p",[t._v(" "+t._s(t.addressInfo)+" ")])]),t._m(1),t._l(t.orderDetail,(function(e,s){return i("li",{key:s},[i("div",{staticClass:"product_name"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productImage,expression:"item.productImage"}]}),i("p",[t._v(t._s(e.productName))])])])})),t._m(2)],2)])]),i("div",{staticClass:"pay_method"},[i("h3",[t._v("选择以下支付方式付款")]),i("p",[t._v("支付平台")]),i("div",{staticClass:"pay-ali",on:{click:function(e){return t.payType(1)}}}),i("div",{staticClass:"pay-wechat",on:{click:function(e){return t.payType(2)}}})])]),i("el-dialog",{attrs:{title:"微信支付",visible:t.weiXinDialog,width:"30%"},on:{"update:visible":function(e){t.weiXinDialog=e},close:function(e){return t.closeWeixinPay()}}},[i("img",{attrs:{src:t.payImg}}),i("p",[t._v("请使用微信扫一扫")]),i("p",[t._v("二维码完成支付")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})]),i("el-dialog",{attrs:{title:"支付确认",visible:t.PaymentDailog,width:"30%"},on:{"update:visible":function(e){t.PaymentDailog=e}}},[i("span",[t._v("您确认是否完成支付？")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"btnPay",on:{click:function(e){return t.goOrder()}}},[t._v("查看订单")]),i("el-button",{staticClass:"info",on:{click:function(e){return t.Unpaid()}}},[t._v("未支付")])],1)])],1)},Kt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v(" 请在"),i("span",{staticClass:"points"},[t._v("30分")]),t._v("内完成支付, 超时后将取消订单 ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("p",[t._v(" 商品名称: ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("p",[t._v("发票信息：")]),i("p",[t._v("电子发票 个人")])])}],Yt=i("5618"),te=i.n(Yt),ee={name:"orderPay",components:{},props:{},data:function(){return{iconStyle:"down",Isproduct_name:"product_informationDisplay",orderId:this.$route.query.orderNo,addressInfo:"",orderDetail:[],weiXinDialog:!1,payImg:"",PaymentDailog:!1,T:"",payment:0}},computed:{},watch:{},created:function(){},mounted:function(){this.getOrderDetail()},methods:{iconClick:function(t){"down"==t?(this.iconStyle="downUp",this.Isproduct_name="product_information"):(this.iconStyle="down",this.Isproduct_name="product_informationDisplay")},getOrderDetail:function(){var t=this;this.axios.get("/orders/".concat(this.orderId)).then((function(e){var i=e.shippingVo;t.addressInfo="".concat(i.receiverName," ").concat(i.receiverMobile," ").concat(i.receiverProvince," ").concat(i.receiverCity," ").concat(i.receiverDistrict," ").concat(i.receiverAddress),t.orderDetail=e.orderItemVoList,t.payment=e.payment}))},payType:function(t){var e=this;1==t?window.open("/#/order/aliPay?orderId="+this.orderId,"_blank"):(this.weiXinDialog=!0,this.axios.post("/pay",{orderId:this.orderId,orderName:"Vue高仿小米商城",amount:.01,payType:2}).then((function(t){te.a.toDataURL(t.content).then((function(t){e.payImg=t,e.loopOrderState()})).catch((function(){e.$message.error("微信支付二维码生成失败,请稍候再试")}))})))},closeWeixinPay:function(){this.PaymentDailog=!0,clearInterval(this.T)},Unpaid:function(){this.PaymentDailog=!1},goOrder:function(){this.$router.push("/order/list")},loopOrderState:function(){var t=this;this.T=setInterval((function(){t.axios.get("/orders/".concat(t.orderId)).then((function(e){20==e.status&&(clearInterval(t.T),t.goOrder())}))}),1e3)}}},ie=ee,se=(i("599a"),Object(u["a"])(ie,Wt,Kt,!1,null,"d45dc4a6",null)),ae=se.exports,re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"ali-Pay"},[t.loading?i("loading"):t._e(),i("div",{staticClass:"form",domProps:{innerHTML:t._s(t.content)}})],1)])},ne=[],ce=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},oe=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading"},[i("img",{attrs:{src:"",alt:""}})])}],le={name:"Loading",components:{},props:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},ue=le,de=(i("08b0"),Object(u["a"])(ue,ce,oe,!1,null,"2a27b4cf",null)),pe=de.exports,me={name:"aliPay",components:{Loading:pe},props:{},data:function(){return{orderId:this.$route.query.orderId,content:"",loading:!0}},computed:{},watch:{},created:function(){},mounted:function(){this.paySubmit()},methods:{paySubmit:function(){var t=this;this.axios.post("/pay",{orderId:this.orderId,orderName:"Vue高仿小米商城",amount:.01,payType:1}).then((function(e){t.content=e.content,setTimeout((function(){document.forms[0].submit()}),100)}))}}},ve=me,fe=Object(u["a"])(ve,re,ne,!1,null,"480fd06a",null),he=fe.exports,_e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",{staticClass:"container"},[t._m(0),i("div",{staticClass:"warpeer"},[i("div",{staticClass:"login-middle"},[i("div",{staticClass:"from"},[t._m(1),i("div",{staticClass:"from-item"},[i("el-input",{attrs:{placeholder:"请输入账号"},model:{value:t.itemForm.name,callback:function(e){t.$set(t.itemForm,"name",e)},expression:"itemForm.name"}}),i("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:t.itemForm.password,callback:function(e){t.$set(t.itemForm,"password",e)},expression:"itemForm.password"}})],1),i("div",{staticClass:"from-footer"},[i("el-button",{on:{click:function(e){return t.SignIn()}}},[t._v("登录")]),i("div",{staticClass:"fromRegister"},[i("a",{attrs:{href:"javascript:;"},on:{click:t.PhoneMessage}},[t._v("手机短信登录/注册")]),i("a",{staticClass:"item",attrs:{href:"javascript:;"},on:{click:function(e){return t.register()}}},[t._v("立即注册 | "),i("a",{staticClass:"item",attrs:{href:"javascript:;"}},[t._v("忘记密码?")])])])],1)])])]),t._m(2)])])},ge=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"login-header"},[i("img",{attrs:{src:"http://mi.futurefe.com/imgs/login-logo.png"}})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"from-tilte"},[i("h1",[i("span",{staticClass:"warper"},[t._v("账号登录")]),i("span",{staticClass:"left"},[t._v("| ")]),t._v(" 扫码登录 ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-footer"},[i("a",{attrs:{href:"https://www.imooc.com/u/1343480"}},[t._v("河畔一角主页")]),i("span",[t._v("|")]),i("a",{attrs:{href:"https://coding.imooc.com/class/113.html"}},[t._v("Vue全栈课程")]),i("span",[t._v("|")]),i("a",{attrs:{href:"https://coding.imooc.com/class/236.html"}},[t._v("React全家桶课程")]),i("span",[t._v("|")]),i("a",{attrs:{href:"https://coding.imooc.com/class/343.html"}},[t._v("微信支付专项课程")]),i("span",[t._v("|")]),i("a",{attrs:{href:"https://coding.imooc.com/class/392.html"}},[t._v("配套课程：Java通用型支付+电商平台双系统实战")]),i("div",{staticClass:"copyright"},[t._v(" Copyright ©2020 mi.futurefe.com All Rights Reserved. ")])])}],Ce=(i("425f"),{name:"login",components:{},props:{},data:function(){return{itemForm:{name:"",password:"",userId:""}}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{PhoneMessage:function(){this.$message({message:"功能暂未开发",type:"success"})},SignIn:function(){var t=this;this.axios.post("/user/login",{username:this.itemForm.name,password:this.itemForm.password}).then((function(e){t.$cookie.set("userId",e.id,{expires:"Session",domain:"mi.futurefe.com"}),t.$store.dispatch("saveUserName",e.username),t.$router.push({name:"index",params:{from:"login"}})}))},register:function(){this.axios.post("/user/register",{username:"admi",password:"admi",email:"admi@163.com"}).then((function(){alert("注册成功")}))}}}),be=Ce,ye=(i("e357"),Object(u["a"])(be,_e,ge,!1,null,"44e25d8a",null)),we=ye.exports;a["default"].use(m["a"]);var ke=[{path:"/",name:"home",redirect:"/index",component:V,children:[{path:"/index",name:"index",component:F},{path:"/product/:id",name:"product",component:at},{path:"/detail/:id",name:"detail",component:ut}]},{path:"/cart",name:"cart",component:gt},{path:"/login",name:"login",component:we},{path:"/order",name:"order",component:Dt,children:[{path:"confirm",name:"confirm",component:Tt},{path:"list",name:"order-List",component:Qt},{path:"pay",name:"order-Pay",component:ae},{path:"aliPay",name:"aliPay",component:he}]}],xe=new m["a"]({routes:ke}),$e=xe,je={saveUserName:function(t,e){t.username=e},saveCartCount:function(t,e){t.cartCount=e},getProductList:function(t,e){t.product=e}},Pe={saveUserName:function(t,e){t.commit("saveUserName",e)},saveCartCount:function(t,e){t.commit("saveCartCount",e)},getProductList:function(t,e){t.commit("getProductList",e)}};a["default"].use(vt["a"]);var Ie={username:"",cartCount:0,product:{}},Se=new vt["a"].Store({state:Ie,mutations:je,actions:Pe}),De=i("73ef"),Le=i.n(De),Oe=i("697a"),Ae=(i("1769"),i("15e0"),i("5e24")),Ne=i.n(Ae),Ee=i("6255"),Te=i.n(Ee),Ve=i("4f49"),Me=i.n(Ve),Re=(i("a675"),void 0);a["default"].use(Oe["a"],{loading:"@/loading-svg/loading.png"}),Le.a.defaults.baseURL="api/",Le.a.defaults.timeout=8e3,Le.a.interceptors.response.use((function(t){var e=t.data,i=location.hash;return 0==e.status?e.data:10==e.status?"#/index"!=i?(window.location.href="#/login",Promise.reject(e)):Promise.reject(e):(this.$message.error(e.msg),Promise.reject(e))}),(function(t){var e=t.response;return Re.$message.error(e.data.message),Promise.reject(e)})),a["default"].use(Te.a),a["default"].use(Ne.a,Le.a),a["default"].use(Me.a),a["default"].use(tt.a),a["default"].config.productionTip=!1,new a["default"]({router:$e,store:Se,render:function(t){return t(p)}}).$mount("#app")},"599a":function(t,e,i){"use strict";i("c381")},"7df5":function(t,e,i){},"7e90":function(t,e,i){},"803c":function(t,e,i){"use strict";i("7e90")},"89f3":function(t,e,i){"use strict";i("0957")},"90a3":function(t,e,i){},"91c8":function(t,e,i){},"926e":function(t,e,i){},a847:function(t,e,i){"use strict";i("396f")},acc5:function(t,e,i){"use strict";i("90a3")},bb6e:function(t,e,i){"use strict";i("fd60")},bea3:function(t,e,i){t.exports=i.p+"img/pk.f13ff2f2.jpg"},c381:function(t,e,i){},d0fa:function(t,e,i){"use strict";i("074f")},e357:function(t,e,i){"use strict";i("0411")},e4de:function(t,e,i){},f121:function(t,e,i){},f5cd:function(t,e,i){"use strict";i("4a03")},fd60:function(t,e,i){}});
//# sourceMappingURL=app.932903b8.js.map